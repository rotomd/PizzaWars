{"ts":1357606086943,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"//var People = require('../models/people.js').People;\n\nexports.Rating = function(shopKey, people)\n{\n    var i, ii, j, jj, rankings, ranking,\n        scores = [];\n    \n    for(i=0, ii=people.length; i<ii; ++i)\n    {\n        rankings = people[i].rankings;\n        for(j=0, jj=rankings.length; j<jj; ++j)\n        {\n            ranking = rankings[j];\n            if (ranking === shopKey)\n            {\n                scores.push(j+1); // add 1 since we start at zero.\n            }\n        }\n    }\n    return (scores.length ? avg(scores) : null);\n};\n\nfunction avg(arr)\n{\n    var i,\n        length = arr.length,\n        sum = 0\n    \n    for(i=0; i<length; ++i)\n    {\n        sum += parseInt(arr[i], 10);\n    }\n    return sum/length;\n}"]],"start1":0,"start2":0,"length1":0,"length2":730}]],"length":730}
