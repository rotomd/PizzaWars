{"ts":1357492348259,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\r\n * API request to get all shops in the database\r\n **/\r\n\r\nvar Shops = require('../models/shops.js').Shops;\r\n\r\nexports.json = function(req, res) {\r\n    Shops.find({}, function(err, result) {\r\n        if(!err){\r\n            res.send( result );\r\n        } else {\r\n            console.log(err);\r\n        }\r\n    });\r\n};\r\n"]],"start1":0,"start2":0,"length1":0,"length2":320}]],"length":320}
{"contributors":[],"silentsave":false,"ts":1357492503353,"patch":[[{"diffs":[[0,");\r\n};\r\n"],[1,"\r\nfunction exec(req, res, api){\r\n    \r\n    Shops.find({}, function(err, result) {\r\n        if(!err){\r\n            if(api){\r\n                res.send( result );\r\n            } else {\r\n                res.render('index', result, function(err, html){\r\n                    res.send(html);\r\n                });\r\n            }\r\n        } else {\r\n            console.log(err);\r\n        }\r\n    });\r\n    \r\n}\r\n"]],"start1":312,"start2":312,"length1":8,"length2":408}]],"length":720,"saved":false}
{"ts":1357513339863,"patch":[[{"diffs":[[0,"tabase\r\n"],[1," * todo: this really needs to be cleaned up\r\n"],[0," **/\r\n\r\n"]],"start1":46,"start2":46,"length1":16,"length2":61}]],"length":765,"saved":false}
